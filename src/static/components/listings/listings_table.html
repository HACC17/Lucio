<div ng-controller="displaytable" >
  <div class="wrap" ng-controller='searchctrl'>
      <div class="dropdown">
        <button class="dropbtn">[{dropdown_button_name}]</button>
        <div class="dropdown-content" id="myDropdown">
          <a ng-class="dropdown_button_name=='Fiscal Year' ? 'active-content' : ''" ng-click="refresh_dropdown('Fiscal Year')">Fiscal Year</a>
          <a ng-class="dropdown_button_name=='Grant Type' ? 'active-content' : ''" ng-click="refresh_dropdown('Grant Type')">Grant Type</a>
          <a ng-class="dropdown_button_name=='Organization' ? 'active-content' : ''" ng-click="refresh_dropdown('Organization')">Organization</a>
          <a ng-class="dropdown_button_name=='Project' ? 'active-content' : ''" ng-click="refresh_dropdown('Project')">Project</a>
          <a ng-class="dropdown_button_name=='Amount' ? 'active-content' : ''" ng-click="refresh_dropdown('Amount')">Amount</a>
          <a ng-class="dropdown_button_name=='Location' ? 'active-content' : ''" ng-click="refresh_dropdown('Location')">Location</a>
          <a ng-class="dropdown_button_name=='Strategic Priority' ? 'active-content' : ''" ng-click="refresh_dropdown('Strategic Priority')">Strategic Priority</a>
          <a ng-class="dropdown_button_name=='Strategic Results' ? 'active-content' : ''" ng-click="refresh_dropdown('Strategic Results')">Strategic Results</a>
          <a ng-class="dropdown_button_name=='Total # Served' ? 'active-content' : ''" ng-click="refresh_dropdown('Total # Served')">Total # Served</a>
          <a ng-class="dropdown_button_name=='NH Served' ? 'active-content' : ''" ng-click="refresh_dropdown('NH Served')">NH Served</a>
          <a ng-class="dropdown_button_name=='Grant Status ID' ? 'active-content' : ''" ng-click="refresh_dropdown('Grant Status ID')">Grant Status ID</a>
        </div>
      </div>
        <input type="text" class="searchTerm" list="autocompleList" ng-model="ctrl.query" placeholder='[{ctrl.msg}]'>
        <datalist id="autocompleList">
                <option ng-repeat="item in ctrl.dataList" value="[{item}]"  >
        </datalist>
        <button class="searchbutton" ng-click="search(ctrl.query, dropdown_button_name)">Search
        <i class="fa fa-search"></i>
        </button>
    </div>

    <div ng-controller='chartctrl'>
          <img src='[{chartimage}]'></img>

    </div>

  <br />
  <div ng-if="has_results==1" role="main">
      <div class="row">
      <div class="col-md-6 col-md-offset-4 centered">
          <dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>
      </div>
    </div>
  </div><!-- /.container -->

  <table ng-if="has_results==1" class="compact celled definition table">
    <thead class="full-width">
      <tr>
      <th>Analyze</th>
      <th>Compare</th>
      <th ng-repeat="heading in headings">[{heading}]</th>
      </tr>
    </thead>
    <tbody>
      <tr dir-paginate="grant in grants | itemsPerPage: grantsPerPage" total-items="totalGrants" current-page="pagination.current">
        <td class="collapsing">
          <div class="fitted slider checkbox">
            <input type="checkbox"> <label></label>
          </div>
        </td>
        <td class="collapsing">
          <div class="fitted slider checkbox">
            <input type="checkbox"> <label></label>
          </div>
        </td>
        <td ng-repeat="col in grant track by $index">[{ grant[headings[$index]] }]</td>
      </tr>
    </tbody>
  </table>
  <button ng-if="has_results==1" class="button" ng-click="open_analyze()">Analyze</button>
  <button ng-if="has_results==1" class="button">Compare</button>

  <div ng-if="has_results==0" class="">No Results Found</div>
  <div ng-if="has_results==1" role="main">
      <div class="row">
      <div class="col-md-6 col-md-offset-4 centered">
          <dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>
      </div>
    </div>
  </div><!-- /.container -->

  <div class="container" role="main">
      <div class ="starter-template">
      <div class="row">
      <div class="col-md-12">
      </div>
    </div>
    </div>
  </div><!-- /.container -->


</div>
